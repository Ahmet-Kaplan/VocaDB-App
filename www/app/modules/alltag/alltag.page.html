<ion-view title="Tags" hide-back-button="true">
    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
    <ion-header-bar class="bar bar-light bar-subheader item-input-inset ">
        <label class="item-input-wrapper">
            <div ng-if='vm.loading'>
                 <ion-spinner icon="ios-small"></ion-spinner>
            </div>
            
            <div ng-if='!vm.loading'>
                 <i class='icon placeholder-icon ion-ios-search' ></i>
            </div>
            <input type="text" placeholder="search"  ng-model="vm.query" ng-change="vm.search()">
        </label>
    </ion-header-bar>
    <ion-content class="stable-bg" >

        <div class="list card" ng-hide="(!vm.selected && vm.query)">
            <ion-item 
                class="item-icon-left"
                ng-hide="(vm.selected && vm.selected != category)" 
                ng-repeat="category in vm.categories"
                ng-click="vm.select(category)"
                ng-class="{active:vm.selected == category}">
                <i class="icon" ng-class="(vm.selected==category)? 'ion-ios-arrow-back' : 'ion-ios-pricetags'"></i>
                <h2>{{category}}</h2>
            </ion-item>
        </div>

        <ion-list ng-show="vm.tags.length">
            <ion-item ng-repeat="tag in vm.tags"  ng-href="#/menu/tag/detail/{{tag.name}}" >
                <h2>{{tag.name}}</h2>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>