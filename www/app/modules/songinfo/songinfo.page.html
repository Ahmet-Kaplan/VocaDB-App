<ion-view title="Song Info">
    <ion-content class="stable-bg">
        <div class="list card">
            <ion-item class="item item-thumbnail-left">
                <img ng-src="{{vm.song.thumbUrl}}">
                <h2>{{vm.song.defaultName}}</h2>
                <p>{{getAdditionName(song.names)}}</p>
                <p>{{vm.song.songType}}&nbsp;{{getDuration(song.lengthSeconds)}}</p>

            </ion-item>
            <ion-item class="item item-text-wrap" ng-show="vm.song.tags.length">
                <a ng-href="#menu/tag/detail/{{tag.name}}" ng-repeat="tag in vm.song.tags" class="dark" style="text-decoration: none; font-size:12px;">#{{tag.name}}&nbsp;&nbsp;</a>
            </ion-item>
        </div> 
         
         <div class="button-bar padding">
            <button class="button button-light "   ng-click="shareSong(vm.song.id)">
                <i class="icon ion-android-share"></i>&nbsp;Share
            </button>
            
             <button ng-if="!isFavorites(vm.song.id)" class="button button-light" ng-click="vm.addFavorites(vm.song)">
                    <i class="icon ion-star"></i>&nbsp;Favorites
                </button>
            
            <button ng-if="isFavorites(vm.song.id)" class="button button-energized" ng-click="vm.addFavorites(vm.song)">
                    <i class="icon ion-star"></i>&nbsp;Favorites
            </button>
        </div>

        <div class="list card" ng-show="vm.PVs.length">
            <ion-item class="item item-avatar item-text-wrap" ng-repeat="pv in vm.PVs" ng-click="open(pv.url)">
                <img ng-src="{{vm.getMediaIcon(pv.service)}}">
                <h2>{{pv.name}}</h2>
                <p>{{pv.pvType}}</p>
            </ion-item>
        </div>
        <div class="list card" ng-init="vm.accordian = [false, false];
                _artist = 0;
                _album = 1;">
            <ion-item 
                ng-show="vm.artists.length"
                ng-click="vm.toggle(_artist)"
                ng-class="{active: vm.isShown(_artist)}">
                <i class="icon" ng-class="vm.isShown(_artist) ? 'ion-ios7-minus-outline' : 'ion-ios7-plus-outline'"></i>
                &nbsp;Artists
            </ion-item>
            <ion-item class="item-accordion item-thumbnail-left"
                      ng-repeat="artist in vm.artists"
                      ng-href="#/menu/artist/{{artist.artist.id}}"
                      ng-show="vm.isShown(_artist)">
                <img ng-src="{{vm.getArtistImage(artist.artist.id)}}">
                <h2>{{artist.name}}</h2>
                <p>{{artist.artist.artistType}}</p>
            </ion-item>

            <ion-item 
                ng-show="vm.albums.length"
                ng-click="vm.toggle(_album)"
                ng-class="{active: vm.isShown(_album)}">
                <i class="icon" ng-class="vm.isShown(_album) ? 'ion-ios7-minus-outline' : 'ion-ios7-plus-outline'"></i>
                &nbsp;Album
            </ion-item>
            <ion-item class="item-accordion item-thumbnail-left"
                      ng-repeat="album in vm.albums"
                      ng-href="#/menu/album/{{album.id}}"
                      ng-show="vm.isShown(_album)">
                <img ng-src="{{vm.getAlbumImage(album.id)}}"> 
                <h2>{{album.name}}</h2>
                <p>{{album.discType}}</p>
            </ion-item>

        </div>
        <div class="padding-bottom">
        </div>
    </ion-content>
</ion-view>